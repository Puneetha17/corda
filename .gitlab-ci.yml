build:
  image: openjdk:8-jdk-alpine
  stage: build
  script:
    - ./gradlew spotlessCheck publishToMavenLocal build #integrationTest
  artifacts:
    reports:
      junit:
        - build/test-results/test/TEST-*.xml
        - build/test-results/integrationTest/TEST-*.xml

pages:
  image: python:alpine
  before_script:
    - pip install mkdocs
  stage: test
  script:
    - mkdocs build
    - mv site public
  artifacts:
    paths:
      - public