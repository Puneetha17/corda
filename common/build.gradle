dependencies {
    implementation group: 'org.glassfish.jersey.inject', name: 'jersey-hk2', version: versions.jersey
    implementation group: 'org.glassfish.jersey.core', name: 'jersey-common', version: versions.jersey
    implementation group: 'org.glassfish.jersey.core', name: 'jersey-client', version: versions.jersey
    implementation group: 'org.glassfish.jersey.media', name: 'jersey-media-json-jackson', version: versions.jersey
    implementation group: 'org.glassfish.jersey.ext', name: 'jersey-proxy-client', version: versions.jersey
    implementation group: 'org.glassfish.jersey.ext', name: 'jersey-bean-validation', version: versions.jersey

    api group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'
    implementation group: 'javax.activation', name: 'javax.activation-api', version: '1.2.0'
    implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'

    implementation("com.fasterxml.jackson.module:jackson-module-kotlin:${versions.jackson}") {
        force = true
    }
}

task copyGeneratedFiles(type: Copy, dependsOn: []) {
    from "$rootDir/codegen/build/generated"
    into "$rootDir/common/build/generated"
}

sourceSets {
    test {
        kotlin {
            srcDir { "build/generated/src/main/kotlin" }
        }
    }
}
